<!-- Шо, думаєш, шо ти самий хитрожопий? -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFK</title>
    <style type="text/css">
        * {
            box-sizing: border-box;
            font-family: sans-serif;
            font-size: 20px;
            background: #000;
            color: #FFF;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        container {
            display: flex;
            /* align-items: center; */
            justify-content: center;
            flex-direction: column;
            min-width: 50vw;
            padding: 1rem;
        }

        .afk {
            font-family: monospace, courier new;
            white-space: pre-wrap;
            /* font-weight: 700; */
        }

        .term,
        .loc {
            font-family: monospace, courier new;
            white-space: pre-wrap;
            /* color: #0F0; */
            /* font-weight: 700; */
        }

        .cursor {
            font-family: monospace, courier new;
            background: #FFF;
            animation: blink 1s linear;
        }

        @keyframes blink {
            0% {
                opacity: 0;
            }

            45% {
                opacity: 0;
            }

            50% {
                opacity: 1;
            }

            95% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        /* .loc { */
        /*     background: #FFF; */
        /* } */
    </style>

    <script type="text/javascript">
        function pluralizeUk(n, one, few, many) {
            n = Math.abs(n);
            const lastDigit = n % 10;
            const lastTwo = n % 100;

            if (lastDigit === 1 && lastTwo !== 11) {
                return one; // 1 день
            }
            if (lastDigit >= 2 && lastDigit <= 4 && !(lastTwo >= 12 && lastTwo <= 14)) {
                return few; // 2,3,4 дні
            }
            return many; // 5–20, 25, 100, etc.
        }

        function pluralizeEn(n, singular, plural) {
            if (!plural) plural = singular + "s";

            return (n % 10 === 1 && n % 100 !== 11) ? singular : plural;
        }

        function formatInterval(sec) {
            const y = Math.floor(sec / (365 * 24 * 60 * 60));
            sec %= 365 * 24 * 60 * 60;

            const d = Math.floor(sec / (24 * 60 * 60));
            sec %= 24 * 60 * 60;

            const h = Math.floor(sec / (60 * 60));
            sec %= 60 * 60;

            const m = Math.floor(sec / 60);
            sec %= 60;

            const parts = [];
            if (y) parts.push(`${y} ${pluralizeEn(y, 'year', 'years')}`);
            if (d) parts.push(`${d} ${pluralizeEn(d, 'day', 'days')}`);
            // if (h) parts.push(`${h} ${pluralize(h, 'годину', 'години', 'годин')}`);
            // if (m) parts.push(`${m} ${pluralize(m, 'хвилину', 'хвилини', 'хвилин')}`);
            // if (sec) parts.push(`${sec} ${pluralize(sec, 'секунду', 'секунди', 'секунд')}`);
            parts.push(`${('' + h).padStart(2, '0')}:${('' + m).padStart(2, '0')}:${('' + sec).padStart(2, '0')}`)

            return parts.length ? parts.join(" ") : "0 seconds";
        }

        function lerp(a, b, t) {
            return a + (b - a) * t;
        }

        const start = new Date('2024-09-16');

        window.addEventListener('load', function () {
            const $term = document.querySelector('.term');

            const banner = [
                `<span class="afk">  ___  ______ _   __`,
                ` / _ \\ |  ___| | / /`,
                `/ /_\\ \\| |_  | |/ / `,
                `|  _  ||  _| |    \\ `,
                `| | | || |   | |\\  \\`,
                `\\_| |_/\\_|   \\_| \\_/</span>`,
                // `______ _   _ _   _        ___  _____`,
                // `|  _  \\ | | | \\ | |      / _ \\|_   _|`,
                // `| | | | | | |  \\| |     / /_\\ \\ | |`,
                // `| | | | | | | . \` |     |  _  | | |`,
                // `| |/ /| |_| | |\\  |  _  | | | |_| |_`,
                // `|___/  \\___/\\_| \\_/ (_) \\_| |_/\\___/`,
            ];

            const updateTime = function () {
                const sec = parseInt((new Date() - start) / 1000);
                const loc = '???';
                // const port = parseInt(lerp(1024, 65535, Math.random()));

                $term.innerHTML = [
                    ...banner,
                    '',
                    'status:      active duty',
                    `last seen:   ${formatInterval(sec)} ago`,
                    `location:    <span class="loc">${loc}</span>`,
                    ``,

                    // ` ______________________`,
                    // `< Freedom is not free. >`,
                    // ` ----------------------`,
                    // `        \\   ^__^`,
                    // `         \\  (oo)\\_______`,
                    // `            (__)\\       )\\/\\`,
                    // `                ||----w |`,
                    // `                ||     ||`,

                    `> Freedom is not free.`,
                    ``,
                    `Connection closed by remote host`,
                    `$ <span class="cursor">&nbsp</span>`,
                ].join('\n');

                setTimeout(updateTime, 1000);
            };

            updateTime();
        });
    </script>
</head>

<body>
    <container>
        <div class="term">AFK</div>
    </container>
</body>

</html>
